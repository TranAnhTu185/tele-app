"use client";
import Image from "next/image";
import rank1 from "../../../public/icons/rank-1.svg";
import { useEffect, useState } from "react";
import { getFromLocalStorage } from "../utils/localStorage";

type DataUser = {
    avatar?: string,
    currentKey?: number,
    currentPoint?: number,
    currentTon?: number,
    level?: number,
    userId?: string
    userName?: string
};

export default function Header() {
    const [dataItem, setDataItem] = useState<DataUser | null>(null);
    useEffect(() => {
        const stored = getFromLocalStorage('userInfo');
        if (stored) {
            setDataItem(stored);
        }
    }, [])
    return (
        <div className="text-white w-full mx-auto relative">
            <div className="bg-[url('../../public/Union.svg')] bg-cover flex justify-center items-center h-[56px]">
                <div className="w-[32px] h-[32px] bg-[#D9D9D9] rounded-full mr-2 overflow-hidden">
                    <Image
                        src={dataItem?.avatar !== undefined ? dataItem.avatar : rank1}
                        alt=""
                        className="w-[32px] h-[32px] mx-auto"
                        style={{
                            filter: "drop-shadow(0px 0px 24px #a726a9a8)",
                        }}
                    />
                </div>
                <span className="text-lg font-bold">
                    {dataItem?.userName}
                </span>
            </div>
            <div className="flex w-full justify-between items-end mb-5 absolute top-4 left-0">
                <div className="flex items-center w-[113px] h-[92px] bg-[url('../../public/left-1.svg')] bg-cover">
                    <div className="ml-[19px] mr-3">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="12" fill="url(#paint0_linear_12_146)" />
                            <circle cx="12" cy="12" r="11.5" stroke="white" strokeOpacity="0.4" />
                            <path d="M12.1784 18C8.94595 18 7 15.8713 7 12.5407V12.5306C7 9.25093 8.98919 7 12.0595 7C15.1297 7 17 9.14907 17 12.3269V12.9787H8.9027C8.94595 15.1583 10.2216 16.4315 12.2216 16.4315C13.6486 16.4315 14.6541 15.7593 14.9784 14.8528L15.0108 14.7611H16.8595L16.8378 14.863C16.4703 16.6148 14.6324 18 12.1784 18ZM12.0486 8.56852C10.4162 8.56852 9.14054 9.61759 8.93514 11.5935H15.0865C14.9027 9.53611 13.6919 8.56852 12.0486 8.56852Z" fill="#413409" />
                            <defs>
                                <linearGradient id="paint0_linear_12_146" x1="12" y1="0" x2="12" y2="24" gradientUnits="userSpaceOnUse">
                                    <stop stopColor="#FFC700" />
                                    <stop offset="1" stopColor="#F79C00" />
                                </linearGradient>
                            </defs>
                        </svg>

                    </div>
                    <div>
                        <div className="text-xs font-semibold text-[#547658]">{dataItem?.currentPoint}</div>
                        <div className="text-xs text-gray-400">eBH</div>
                    </div>
                </div>
                <div className="flex items-center bg-[url('../../public/bg-rank.svg')] bg-auto bg-no-repeat h-[30px] w-[130px] p-[4px]">
                    <div className="mr-[2px]">
                        <Image
                            src={rank1}
                            alt=""
                            className="w-[24px] h-[18px] mx-auto"
                            style={{
                                filter: "drop-shadow(0px 0px 24px #a726a9a8)",
                            }}
                        />
                    </div>
                    <div className="text-xs font-medium" >
                        Monster Starter
                    </div>
                </div>
                <div className="flex items-center justify-center flex-col w-[113px] h-[92px] bg-[url('../../public/right-1.svg')] bg-cover">
                    <div className="">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M21.185 13.8171C20.4951 13.4435 20.0667 12.7476 20.0667 12C20.0667 11.2529 20.4951 10.5569 21.183 10.1837C21.889 9.80221 22.1827 9.00949 21.881 8.29899C21.5028 7.4015 20.9879 6.56324 20.3543 5.80715C19.8495 5.20517 18.9725 5.04751 18.2665 5.43148C17.5786 5.80715 16.7218 5.80828 16.0319 5.43431C15.344 5.06034 14.9175 4.36327 14.9196 3.6144C14.9196 2.84831 14.3362 2.21252 13.5297 2.10287C12.5159 1.96486 11.4861 1.96563 10.4683 2.1057C9.66378 2.21611 9.0805 2.85154 9.08248 3.6161C9.08248 4.36404 8.65603 5.0607 7.96816 5.43431C7.27823 5.80787 6.4234 5.80711 5.73352 5.43185C5.02753 5.04787 4.15056 5.2063 3.6457 5.80828C3.33192 6.18338 3.04225 6.58438 2.78684 7.00087C2.53138 7.41663 2.30811 7.8524 2.11905 8.29536C1.81531 9.00699 2.10901 9.80084 2.81499 10.1833C3.50492 10.5565 3.93335 11.2528 3.93335 12C3.93335 12.7472 3.50492 13.4429 2.81701 13.8167C2.11103 14.1982 1.81737 14.9905 2.11905 15.7008C2.49722 16.5989 3.01212 17.4372 3.6457 18.1929C4.15056 18.7948 5.02753 18.9525 5.73352 18.5685C6.42143 18.1929 7.27827 18.1921 7.96816 18.5657C8.65603 18.9397 9.08248 19.6367 9.08248 20.3856C9.08046 21.1515 9.66575 21.7873 10.4703 21.8972C10.9752 21.9658 11.4821 22 11.9889 22C12.5038 22 13.0188 21.9648 13.5316 21.8943C14.3362 21.7837 14.9195 21.1488 14.9195 20.3843C14.9175 19.636 15.3439 18.9393 16.0318 18.5657C16.7217 18.1921 17.5765 18.1929 18.2664 18.5682C18.9724 18.9521 19.8494 18.7941 20.3542 18.1917C20.668 17.8164 20.9577 17.4154 21.2131 16.9995C21.4665 16.5838 21.6938 16.148 21.8809 15.7046C22.1847 14.993 21.8911 14.199 21.185 13.8171ZM14.7365 13.4855C14.3161 14.1725 13.6343 14.6643 12.8177 14.8696C12.0031 15.0749 11.1502 14.9696 10.4201 14.5726C8.91153 13.7535 8.39259 11.9335 9.26351 10.5146C9.84683 9.56282 10.9129 9.03007 12.005 9.03007C12.5421 9.03007 13.0832 9.15787 13.58 9.42747C15.0885 10.2463 15.6074 12.0669 14.7365 13.4855Z" fill="url(#paint0_linear_12_68)" />
                            <defs>
                                <linearGradient id="paint0_linear_12_68" x1="12" y1="8.36364" x2="12" y2="15.6364" gradientUnits="userSpaceOnUse">
                                    <stop stopColor="#A7E9B1" />
                                    <stop offset="1" stopColor="#547658" />
                                </linearGradient>
                            </defs>
                        </svg>

                    </div>
                    <div>
                        <div className="text-xs text-gray-400">Setting</div>
                    </div>
                </div>
            </div>

            <div className="text-center mb-5 relative top-[67px]">
                <div className="text-5xl font-bold text-[#96DC68]">
                    {dataItem?.currentTon}
                    <div className="inline-block w-8 h-8 ml-2">
                        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M29.2252 2.09375C28.8558 1.39171 28.254 0.838886 27.5222 0.529203C26.8651 0.195428 26.1397 0.0169849 25.4023 0.00769038H4.77925C4.00087 -0.040773 3.22543 0.140619 2.54983 0.529203C2.12248 0.669215 1.7274 0.892775 1.38768 1.18682C1.04796 1.48086 0.770411 1.83949 0.571258 2.24174C0.126854 2.99399 -0.0661726 3.86769 0.0200844 4.73655C0.0833305 5.53882 0.36964 6.30759 0.846844 6.95651L13.6334 29.2266C13.7928 29.4595 14.006 29.6508 14.255 29.7845C14.504 29.9182 14.7815 29.9903 15.0643 29.9947C15.3552 30.0189 15.6469 29.9594 15.9049 29.8233C16.1629 29.6871 16.3764 29.48 16.5199 29.2266L29.363 6.95651C29.8142 6.25532 30.0353 5.43137 29.9954 4.59913C29.9536 3.71276 29.6887 2.85115 29.2252 2.09375ZM13.4426 22.2777L3.59564 5.13826C3.34126 4.61675 3.21053 4.35599 3.21053 4.35599C3.1736 4.12329 3.21987 3.88506 3.34126 3.68295C3.43982 3.44717 3.62775 3.25974 3.86416 3.16144H13.4426V22.2777ZM26.5859 4.45113C26.6389 4.71395 26.6389 4.98467 26.5859 5.24749L16.5199 22.3623V3.2742H25.2645C25.5737 3.24039 25.8864 3.2865 26.1725 3.4081L26.3103 3.54553C26.4481 3.54553 26.4481 3.79219 26.5859 3.79219C26.6494 4.00727 26.6494 4.23605 26.5859 4.45113Z" fill="#D4D3D8" />
                        </svg>
                    </div>
                </div>
            </div>

            <div className="flex justify-between mb-5 relative top-[68px] h-[61px]">
                <div className="bg-[url('../../public/left-2.svg')] bg-cover rounded-lg flex-1 mx-1 text-center flex flex-col justify-center items-center">
                    <div className="text-lg font-bold flex justify-center items-center">
                        0.08
                        <div className="ml-1">
                            <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M15.6126 1.54687C15.4279 1.19585 15.127 0.919443 14.7611 0.764601C14.4325 0.597714 14.0699 0.508492 13.7012 0.503845H3.38963C3.00043 0.479613 2.61271 0.57031 2.27491 0.764601C2.06124 0.834608 1.8637 0.946387 1.69384 1.09341C1.52398 1.24043 1.38521 1.41975 1.28563 1.62087C1.06343 1.99699 0.966914 2.43385 1.01004 2.86828C1.04167 3.26941 1.18482 3.6538 1.42342 3.97825L7.81668 15.1133C7.8964 15.2297 8.003 15.3254 8.1275 15.3922C8.252 15.4591 8.39077 15.4951 8.53214 15.4974C8.67758 15.5095 8.82345 15.4797 8.95245 15.4116C9.08145 15.3436 9.18818 15.24 9.25997 15.1133L15.6815 3.97825C15.9071 3.62766 16.0176 3.21568 15.9977 2.79956C15.9768 2.35638 15.8444 1.92558 15.6126 1.54687ZM7.72128 11.6389L2.79782 3.06913C2.67063 2.80837 2.60526 2.67799 2.60526 2.67799C2.5868 2.56165 2.60994 2.44253 2.67063 2.34148C2.71991 2.22358 2.81388 2.12987 2.93208 2.08072H7.72128V11.6389ZM14.293 2.72556C14.3195 2.85698 14.3195 2.99234 14.293 3.12375L9.25997 11.6812V2.1371H13.6323C13.7868 2.1202 13.9432 2.14325 14.0863 2.20405L14.1552 2.27276C14.2241 2.27276 14.2241 2.39609 14.293 2.39609C14.3247 2.50364 14.3247 2.61802 14.293 2.72556Z" fill="#D4D3D8" />
                            </svg>
                        </div>
                    </div>
                    <div className="text-xs text-gray-400">Total reward</div>
                </div>
                <div className="bg-[url('../../public/center-2.svg')] bg-cover max-w-[73px] rounded-lg flex-1 mx-1 flex justify-center items-center">
                    <div className="">
                        <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M25.5216 13.3052V15.6948C25.5216 16.3328 25.0112 16.8548 24.3616 16.878H22.088C20.8352 16.878 19.6868 15.9616 19.5824 14.7088C19.5128 13.978 19.7912 13.2936 20.2784 12.818C20.7076 12.3772 21.2992 12.1219 21.9488 12.1219H24.3616C25.0112 12.1451 25.5216 12.6672 25.5216 13.3052Z" fill="#D9D9D9" />
                            <path d="M23.7469 18.618H22.0881C19.8841 18.618 18.0281 16.9592 17.8425 14.848C17.7381 13.6416 18.1789 12.4352 19.0605 11.5768C19.8029 10.8112 20.8353 10.382 21.9489 10.382H23.7469C24.0833 10.382 24.3617 10.1036 24.3269 9.76721C24.0717 6.94841 22.2041 5.02281 19.4317 4.69801C19.1533 4.65161 18.8633 4.64001 18.5617 4.64001H8.12165C7.79685 4.64001 7.48365 4.66321 7.18205 4.70961C4.22406 5.08081 2.32166 7.28481 2.32166 10.44V18.56C2.32166 21.7616 4.92006 24.36 8.12165 24.36H18.5617C21.8097 24.36 24.0485 22.33 24.3269 19.2328C24.3617 18.8964 24.0833 18.618 23.7469 18.618ZM15.0817 11.89H8.12165C7.64606 11.89 7.25166 11.4956 7.25166 11.02C7.25166 10.5444 7.64606 10.15 8.12165 10.15H15.0817C15.5573 10.15 15.9517 10.5444 15.9517 11.02C15.9517 11.4956 15.5573 11.89 15.0817 11.89Z" fill="#D9D9D9" />
                        </svg>
                    </div>
                </div>
                <div className="bg-[url('../../public/right-2.svg')] bg-cover rounded-lg flex-1 mx-1 text-center flex flex-col justify-center items-center">
                    <div className="text-lg font-bold flex justify-center items-center">
                        0.004
                        <div className="ml-1">
                            <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fillRule="evenodd" clipRule="evenodd" d="M15.6126 1.54687C15.4279 1.19585 15.127 0.919443 14.7611 0.764601C14.4325 0.597714 14.0699 0.508492 13.7012 0.503845H3.38963C3.00043 0.479613 2.61271 0.57031 2.27491 0.764601C2.06124 0.834608 1.8637 0.946387 1.69384 1.09341C1.52398 1.24043 1.38521 1.41975 1.28563 1.62087C1.06343 1.99699 0.966914 2.43385 1.01004 2.86828C1.04167 3.26941 1.18482 3.6538 1.42342 3.97825L7.81668 15.1133C7.8964 15.2297 8.003 15.3254 8.1275 15.3922C8.252 15.4591 8.39077 15.4951 8.53214 15.4974C8.67758 15.5095 8.82345 15.4797 8.95245 15.4116C9.08145 15.3436 9.18818 15.24 9.25997 15.1133L15.6815 3.97825C15.9071 3.62766 16.0176 3.21568 15.9977 2.79956C15.9768 2.35638 15.8444 1.92558 15.6126 1.54687ZM7.72128 11.6389L2.79782 3.06913C2.67063 2.80837 2.60526 2.67799 2.60526 2.67799C2.5868 2.56165 2.60994 2.44253 2.67063 2.34148C2.71991 2.22358 2.81388 2.12987 2.93208 2.08072H7.72128V11.6389ZM14.293 2.72556C14.3195 2.85698 14.3195 2.99234 14.293 3.12375L9.25997 11.6812V2.1371H13.6323C13.7868 2.1202 13.9432 2.14325 14.0863 2.20405L14.1552 2.27276C14.2241 2.27276 14.2241 2.39609 14.293 2.39609C14.3247 2.50364 14.3247 2.61802 14.293 2.72556Z" fill="#D4D3D8" />
                            </svg>
                        </div>
                    </div>
                    <div className="text-xs text-gray-400">Daily reward</div>
                </div>
            </div>
        </div>
    );
}